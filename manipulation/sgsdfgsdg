// Add an event listener for the "submit" event
document.querySelector('form').addEventListener('Create Account', function(event) {
    event.preventDefault(); // Prevent form submission

    let name = document.querySelector('input[type="name"]').value;
    let email = document.querySelector('input[type="email"]').value;
    let role = document.getElementById('role').value;

    if (name.trim() === '' || email.trim() === '') {
        alert('Please fill in all fields');
    } else {
        appendValues(name, email, role);
    }
});

// Function to append values to the table
function appendValues(name, email, role) {
    let table = document.querySelector('table tbody');
    let newRow = table.insertRow();

    let cell1 = newRow.insertCell(0);
    let cell2 = newRow.insertCell(1);
    let cell3 = newRow.insertCell(2);
    let cell4 = newRow.insertCell(3);
    let cell5 = newRow.insertCell(4);

    cell1.textContent = table.rows.length; // ID
    cell2.textContent = name;
    cell3.textContent = email;
    cell4.textContent = role;
    cell5.innerHTML = '<button class="text-blue-500 p-1"><i class="fas fa-edit"></i></button>' +
                      '<button class="text-red-500 p-1"><i class="fas fa-trash-alt"></i></button>';
}

// Add an event listener for the "click" event on the table body
document.querySelector('table tbody').addEventListener('click', function(event) {
    if (event.target.classList.contains('fa-edit')) {
        // Handle edit action
        // You can implement the edit functionality here
        console.log('Edit button clicked');
    } else if (event.target.classList.contains('fa-trash-alt')) {
        // Handle delete action
        // You can implement the delete functionality here
        console.log('Delete button clicked');
    }
});








document.addEventListener("DOMContentLoaded", function () {
    const form = document.getElementById('accountForm');
    const tableBody = document.querySelector('#userTable tbody');

    form.addEventListener('submit', function (event) {
        event.preventDefault();
        const nameInput = document.getElementById('name');
        const emailInput = document.getElementById('email');
        const roleSelect = document.getElementById('role');

        if (nameInput.value.trim() === '' || emailInput.value.trim() === '') {
            alert('Please fill out all fields.');
            return;
        }

        appendValues(nameInput.value, emailInput.value, roleSelect.value);

        nameInput.value = '';
        emailInput.value = '';
    });

    tableBody.addEventListener('click', function (event) {
        const target = event.target;
        if (target.tagName === 'BUTTON') {
            const action = target.dataset.action;
            const row = target.closest('tr');
            if (action === 'delete') {
                deleteRow(row);
            } else if (action === 'edit') {
                editRow(row);
            } else if (action === 'save') {
                saveRow(row);
            }
        }
    });
});

function appendValues(name, email, role) {
    const tableBody = document.querySelector('#userTable tbody');
    const newRow = document.createElement('tr');

    newRow.innerHTML = `
        <td class="border p-2">${tableBody.children.length + 1}</td>
        <td class="border p-2">${name}</td>
        <td class="border p-2">${email}</td>
        <td class="border p-2">${role}</td>
        <td class="border p-2">
            <button class="text-blue-500 p-1" data-action="edit"><i class="fas fa-edit"></i></button>
            <button class="text-red-500 p-1" data-action="delete"><i class="fas fa-trash-alt"></i></button>
        </td>
    `;
    tableBody.appendChild(newRow);
}

function editRow(row) {
    const cells = row.cells;
    const name = cells[1].innerText;
    const email = cells[2].innerText;
    const role = cells[3].innerText;

    cells[1].innerHTML = `<input type="text" class="border rounded p-1" value="${name}">`;
    cells[2].innerHTML = `<input type="email" class="border rounded p-1" value="${email}">`;
    cells[3].innerHTML = `<select class="border rounded p-1"><option value="Admin" ${role === 'Admin' ? 'selected' : ''}>Admin</option><option value="User" ${role === 'User' ? 'selected' : ''}>User</option></select>`;

    const actionsCell = cells[4];
    const editButton = actionsCell.querySelector('button[data-action="edit"]');
    editButton.innerHTML = '<i class="fas fa-save"></i>';
    editButton.dataset.action = 'save';
}

function saveRow(row) {
    const cells = row.cells;
    const name = cells[1].querySelector('input').value;
    const email = cells[2].querySelector('input').value;
    const role = cells[3].querySelector('select').value;

    cells[1].innerHTML = name;
    cells[2].innerHTML = email;
    cells[3].innerHTML = role;

    const actionsCell = cells[4];
    const saveButton = actionsCell.querySelector('button[data-action="save"]');
    saveButton.innerHTML = '<i class="fas fa-edit"></i>';
    saveButton.dataset.action = 'edit';
}

function deleteRow(row) {
    row.remove();
}


















document.addEventListener("DOMContentLoaded", function () {
    const form = document.getElementById('accountForm');
    const tableBody = document.querySelector('#userTable tbody');

    form.addEventListener('submit', function (event) {
        event.preventDefault();

        const nameInput = document.getElementById('name');
        const emailInput = document.getElementById('email');
        const roleSelect = document.getElementById('role');

        if (nameInput.value.trim() === '' || emailInput.value.trim() === '') {
            alert('Please fill out all fields.');
            return;
        }

        appendValues(nameInput.value, emailInput.value, roleSelect.value);

        nameInput.value = '';
        emailInput.value = '';
    });

    tableBody.addEventListener('click', function (event) {
        const target = event.target;

        if (target.classList.contains('edit-btn')) {
            const row = target.closest('tr');
            editRow(row);
        }

        if (target.classList.contains('delete-btn')) {
            const row = target.closest('tr');
            deleteRow(row);
        }
    });
});

function appendValues(name, email, role) {
    const tableBody = document.querySelector('#userTable tbody');
    const newRow = document.createElement('tr');

    newRow.innerHTML = `
        <td class="border p-2">${tableBody.children.length + 1}</td>
        <td class="border p-2">${name}</td>
        <td class="border p-2">${email}</td>
        <td class="border p-2">${role}</td>
        <td class="border p-2">
            <button class="text-blue-500 p-1 edit-btn"><i class="fas fa-edit"></i></button>
            <button class="text-red-500 p-1 delete-btn"><i class="fas fa-trash-alt"></i></button>
        </td>
    `;
    tableBody.appendChild(newRow);
}

function editRow(row) {
    console.log('Edit row function called');
}

function deleteRow(row) {
    console.log('Delete row function called');
}
